(()=>{"use strict";const e=window.React,{registerBlockType:t}=wp.blocks,{SelectControl:a}=wp.components,{useState:n,useEffect:l}=wp.element;t("business-profile-render/bpr-block",{title:"Business Profile",icon:"admin-site",category:"common",attributes:{option:{type:"string",default:"--"}},edit:t=>{const{attributes:r,setAttributes:s}=t,{option:o}=r,[c,i]=n([]);l((()=>{const e=window.businessProfileData||{},t=Object.entries(e).map((([e,t])=>({label:e,value:t})));i(t)}),[]);const u=(e=>{try{const t=new URL(e);return t.hostname.includes("facebook.com")?"fab fa-facebook":t.hostname.includes("rss")?"fab fa-rss":t.hostname.includes("twitter.com")?"fab fa-twitter":t.hostname.includes("youtube.com")?"fab fa-youtube":t.hostname.includes("foursquare.com")?"fab fa-foursquare":t.hostname.includes("instagram.com")?"fab fa-instagram":t.hostname.includes("pinterest.com")?"fab fa-pinterest":t.hostname.includes("linkedin.com")?"fab fa-linkedin":null}catch(e){return null}})(o);return e.createElement("div",null,e.createElement(a,{label:"Select which field you want to show",value:o,options:c.map((e=>({label:e.label,value:e.value}))),onChange:e=>{s({option:e})}}),e.createElement("div",null,(e=>{try{const t=e.replace(/,+$/,"");return"media-prod.apigateway.co"===new URL(t).hostname}catch(e){return!1}})(o)?e.createElement("p",null,e.createElement("span",{className:"css-1imalal"},"Preview:"),e.createElement("br",null),e.createElement("img",{src:o.replace(/,+$/,""),alt:"Business Profile Image",style:{width:"100px",height:"100px"}})):u?e.createElement("p",null,e.createElement("span",{className:"css-1imalal"},"Preview:"),e.createElement("br",null),e.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},e.createElement("i",{className:u}))):e.createElement("p",null,o)))},save:({attributes:t})=>{const{option:a}=t,n=(e=>{try{const t=new URL(e);return t.hostname.includes("facebook.com")?"fab fa-facebook":t.hostname.includes("rss")?"fab fa-rss":t.hostname.includes("twitter.com")?"fab fa-twitter":t.hostname.includes("youtube.com")?"fab fa-youtube":t.hostname.includes("foursquare.com")?"fab fa-foursquare":t.hostname.includes("instagram.com")?"fab fa-instagram":t.hostname.includes("pinterest.com")?"fab fa-pinterest":t.hostname.includes("linkedin.com")?"fab fa-linkedin":null}catch(e){return null}})(a);return e.createElement("div",null,(e=>{try{const t=e.replace(/,+$/,"");return"media-prod.apigateway.co"===new URL(t).hostname}catch(e){return!1}})(a)?e.createElement("p",null,e.createElement("img",{src:a.replace(/,+$/,""),alt:"Business Profile Image",style:{width:"100px",height:"auto"}})):n?e.createElement("p",null,e.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},e.createElement("i",{className:n}))):e.createElement("p",null,a))}})})();